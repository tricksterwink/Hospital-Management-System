{% load mathfilters %}
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/css/bootstrap.min.css" rel="stylesheet">

<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.min.js" integrity="sha384-Atwg2Pkwv9vp0ygtn1JAojH0nYbwNJLPhwyoVbhoPwBhjQPR5VtM2+xf0Uwh9KtT" crossorigin="anonymous"></script>
<style>
    .content {
        padding: 7rem 0;
    }
    
    body {
        background-color: #0cb8b6;
    }
    
    .form-control {
        border: none;
        border-bottom: 1px solid #ccc;
        padding-left: 0;
        padding-right: 0;
        border-radius: 0;
        background: none;
        font-size: medium;
    }
    
    .form-control:active,
    .form-control:focus {
        outline: none;
        -webkit-box-shadow: none;
        box-shadow: none;
        border-color: #000;
    }
    
    .col-form-label {
        color: #000;
        font-size: 13px;
    }
    
    .btn,
    .form-control,
    .custom-select {
        height: 45px;
    }
    
    .custom-select:active,
    .custom-select:focus {
        outline: none;
        -webkit-box-shadow: none;
        box-shadow: none;
        border-color: #000;
    }
    
    .btn {
        border: none;
        border-radius: 0;
        font-size: 12px;
        letter-spacing: .2rem;
        text-transform: uppercase;
    }
    
    .btn.btn-primary {
        background: #0cb8b6;
        color: #fff;
        padding: 15px 20px;
    }
    
    .btn:hover {
        color: #fff;
    }
    
    .btn:active,
    .btn:focus {
        outline: none;
        -webkit-box-shadow: none;
        box-shadow: none;
    }
    
    .contact-wrap .col-form-label {
        font-size: 14px;
        color: #b3b3b3;
        margin: 0 0 10px 0;
        display: inline-block;
        padding: 0;
    }
    
    .contact-wrap .form,
    .contact-wrap .contact-info {
        padding: 40px;
    }
    
    .contact-wrap .contact-info {
        color: rgba(255, 255, 255, 0.5);
    }
    
    .contact-wrap .contact-info ul li {
        margin-bottom: 15px;
        color: rgba(255, 255, 255, 0.5);
    }
    
    .contact-wrap .contact-info ul li .wrap-icon {
        font-size: 20px;
        color: rgb(255, 255, 255);
        margin-top: 5px;
    }
    
    .contact-wrap .form {
        background: #fff;
    }
    
    .contact-wrap .form h3 {
        color: #0cb8b6;
        font-size: 20px;
        margin-bottom: 30px;
        font-weight: bold;
    }
    
    .contact-wrap .contact-info {
        height: 100vh;
        background-size: cover;
        background-position: center center;
        background-repeat: no-repeat;
    }
    
    .contact-wrap .contact-info a {
        position: absolute;
        top: 0;
        bottom: 0;
        left: 0;
        right: 0;
    }
    
    @media (max-width: 1199.98px) {
        .contact-wrap .contact-info {
            height: 400px !important;
        }
    }
    
    .contact-wrap .contact-info h3 {
        color: #0cb8b6;
        font-size: 20px;
        margin-bottom: 30px;
    }
    
    .container {
        justify-content: center;
        align-items: center;
        border-color: black;
    }
    
    h3 {
        font-weight: bold;
    }
    
    .form {
        margin-left: 21%;
        margin-right: -21%
    }
</style>

<div class="content">

    <div class="container">
        <div class="row align-items-stretch no-gutters contact-wrap ">
            <div class="col-md-9">
                <div class="form">

                    <h3 align="center">BILLS</h3><br>
                    <div class="row">
                        {%if bill.PharmacyBill == None%}
                        <div class="col-md-6 form-group mb-5">
                            <label style="font-size:large" for="name">Pharmacy Bill</label>
                            <input class="form-control" id="name" type="text" value="None" disable />
                        </div>
                        {%else%}
                        <div class="col-md-6 form-group mb-5">
                            <label style="font-size:large" for="name">Pharmacy bill</label>
                            <input class="form-control" id="name" type="text" value={{bill.PharmacyBill.total}} disable />
                        </div>
                        {%endif%}
                        <div class="col-md-6 form-group mb-5">
                            <button class="btn btn-primary">View Pharmacy Bill</button>
                        </div>
                        {% if pharmacybill.bill == True %}
                        <div class="col-md-6 form-group mb-5">
                            <a href="{% url 'fb' %}{{pharmacybill.Appointment.id}}" target="_blank" class="btn btn-primary" style="text-decoration: none;"> Pharmacy Bill </a> 
                        </div>
                        {% else %}
                        <h4>Pharmacy Bill is not available</h4>
                        {% endif %}

                    </div>
                    <div class="row">
                        {%if bill.LabBill == None%}
                        <div class="col-md-6 form-group mb-5">
                            <label style="font-size:large" for="name">Lab Bill</label>
                            <input class="form-control" id="name" type="text" value="None" disable />
                        </div>
                        {%else%}
                        <div class="col-md-6 form-group mb-5">
                            <label style="font-size:large" for="name">Lab bill</label>
                            <input class="form-control" id="name" type="text" value={{bill.LabBill.total}} disable />
                        </div>
                        {%endif%} {% if diagnosisbill.bill == True %}
                        <div class="col-md-6 form-group mb-5">
                            <a href="{% url 'db' %}{{diagnosisbill.Appointment.id}}" target="_blank" class="btn btn-primary" style="text-decoration: none;"> Diagnosis Bill </a>
                        </div>
                        {% else %}
                        <h4>Diagnosis Bill is not available</h4>
                        {% endif %}

                    </div>
                    <div class="row">
                        {%if bill.WardBill == None%}
                        <div class="col-md-6 form-group mb-5">
                            <label style="font-size:large" for="name">Ward Bill</label>
                            <input class="form-control" id="name" type="text" value="None" disable />
                        </div>
                        {%else%}
                        <div class="col-md-6 form-group mb-5">
                            <label style="font-size:large" for="name">Ward Bill</label>
                            <input class="form-control" id="name" type="text" value={{bill.WardBill.total}} disable />
                        </div>
                        {%endif%} {% if wardbill.wardbill == True %}
                        <div class="col-md-6 form-group mb-5">
                            <a href="{% url 'wb' %}{{wardbill.Appointment.id}}" target="_blank" class="btn btn-primary" style="text-decoration: none;"> Ward Bill </a>
                        </div>
                        {% else %}
                        <h4>Ward Bill is not available</h4>
                        {% endif %}

                    </div>

                    <div class="row">

                        <div class="col-md-6 form-group mb-5">
                            <label style="font-size:large" for="name">Total Bill</label>
                            <input class="form-control" id="name" type="text" value={{hb.TotalBill}} disable />
                        </div>
                        <div class="col-md-6 form-group mb-5">
                            <label style="font-size:large" for="name">Amount Paid</label>
                            <input class="form-control" id="name" type="text" value={{hb.AmountPaid}} disable />
                        </div>


                    </div>
                    <br>
                    <div class="text-center">
                        <button id="look" class="btn btn-primary">Add Amount paid</button>
                    </div><br>
                    <form action="" method="post" id="porm" style="display:none;">
                        {% csrf_token %}
                        <br>
                        <div class="row">
                            <div class="col-md-6 form-group mb-5">
                                <label for="amount_paid" class="form-label"></label>
                                <input class="form-control" type="number" id="amount_paid" name="amount_paid" value="0" min="0" max="{{hb.TotalBill|sub:hb.AmountPaid}}" placeholder="Enter amount paid">
                            </div>
                            <div class="col-md-6 form-group mb-5">
                                <button type="button" id="done" class="btn btn-primary"> Done</button>
                            </div>
                            <div id="resure" style="display: none;" class="col-md-6 form-group mb-5">
                                <h5>Are you sure?</h5>
                                <label for="sure" class="form-check-label">YES</label>
                                <input type="radio" name="ok" value="sure" id="sure" class="form-check-input">
                                <label for="no" class="form-check-label">NO</label>
                                <input type="radio" name="no" value="no" id="no" class="form-check-input">
                            </div>
                            <div id="resure1" style="display: none;" class="col-md-6 form-group mb-5">
                                <input type="submit" class="btn btn-primary">
                            </div>
                    </form>
                    </div>
                </div>
            </div>

        </div>
    </div>

    <script>
        look = document.getElementById("look");
        look.addEventListener("click", function() {
            document.getElementById("porm").style.display = "block"
        })
        done = document.getElementById("done");
        done.addEventListener("click", function() {
            document.getElementById("resure").style.display = "block"
            document.getElementById("resure1").style.display = "block"
        })
    </script>
    